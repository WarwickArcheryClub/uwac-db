-- Drop table & types

DROP TYPE IF EXISTS GENDER CASCADE;

DROP TABLE IF EXISTS "classifications" CASCADE;

-- Create types

CREATE TYPE GENDER AS ENUM ('M', 'F');

-- Create table

CREATE TABLE "classifications" (
    "round_id" INTEGER REFERENCES rounds,
    "bow_type" INTEGER REFERENCES bow_types,
    "gender" GENDER NOT NULL,
    "class_gmb" INTEGER DEFAULT NULL,
    "class_mb" INTEGER DEFAULT NULL,
    "class_bm" INTEGER DEFAULT NULL,
    "class_1st" INTEGER DEFAULT NULL,
    "class_2nd" INTEGER DEFAULT NULL,
    "class_3rd" INTEGER DEFAULT NULL,
    PRIMARY KEY ("round_id", "bow_type", "gender")
);

-- Insert classifications

-- Barebow classifications
INSERT INTO "classifications" ("round_id", "bow_type", "gender", "class_3rd", "class_2nd", "class_1st", 
    "class_bm", "class_mb", "class_gmb") VALUES
    (89, 1, 'M', 69, 158, 335, 543, 668, 813),
    (89, 1, 'F', 26, 69, 158, 308, 480, 543),
    (47, 1, 'F', 67, 155, 306, 508, 693, 752),
    (26, 1, 'M', 298, 505, NULL, NULL, NULL, NULL),
    (26, 1, 'F', 148, 298, 505, NULL, NULL, NULL),
    (27, 1, 'M', 477, NULL, NULL, NULL, NULL, NULL),
    (27, 1, 'F', 282, 477, NULL, NULL, NULL, NULL),
    (28, 1, 'F', 502, NULL, NULL, NULL, NULL, NULL),
    (82, 1, 'M', 73, 157, 307, 465, NULL, NULL),
    (82, 1, 'F', 29, 73, 157, 286, NULL, NULL),
    (22, 1, 'M', 149, 278, 458, NULL, NULL, NULL),
    (87, 1, 'M', 266, 426, NULL, NULL, NULL, NULL),
    (81, 1, 'M', 416, NULL, NULL, NULL, NULL, NULL), 
    (69, 1, 'M', 32, 81, 193, 334, NULL, NULL),
    (60, 1, 'M', 89, 185, 342, NULL, NULL, NULL),
    (86, 1, 'M', 176, 314, NULL, NULL, NULL, NULL),
    (80, 1, 'M', 416, NULL, NULL, NULL, NULL, NULL),
    (23, 1, 'M', 222, 355, NULL, NULL, NULL, NULL),
    (67, 1, 'M', 20, 53, 130, 233, NULL, NULL),
    (58, 1, 'M', 56, 121, 234, NULL, NULL, NULL),
    (66, 1, 'M', 121, 221, NULL, NULL, NULL, NULL),
    (79, 1, 'M', 200, NULL, NULL, NULL, NULL, NULL),
    (68, 1, 'M', 16, 41, NULL, NULL, NULL, NULL),
    (59, 1, 'M', 44, 92, NULL, NULL, NULL, NULL),
    (85, 1, 'M', 88, 157, NULL, NULL, NULL, NULL),
    (96, 1, 'M', 145, NULL, NULL, NULL, NULL, NULL),
    (37, 1, 'M', 191, 328, 536, 754, 858, 982),
    (61, 1, 'M', 224, 391, 634, NULL, NULL, NULL),
    (62, 1, 'M', 306, 512, NULL, NULL, NULL, NULL),
    (63, 1, 'M', 536, NULL, NULL, NULL, NULL, NULL),
    (36, 1, 'M', 199, 337, NULL, NULL, NULL, NULL),
    (35, 1, 'M', 47, 110, 232, NULL, NULL, NULL),
    (100, 1, 'M', 82, 172, NULL, NULL, NULL, NULL),
    (108, 1, 'M', 70, NULL, NULL, NULL, NULL, NULL),
    (51, 1, 'M', 31, 77, 175, 293, NULL, NULL),
    (52, 1, 'M', 64, 141, 272, NULL, NULL, NULL),
    (53, 1, 'M', 114, 217, NULL, NULL, NULL, NULL),
    (54, 1, 'M', 198, NULL, NULL, NULL, NULL, NULL),
    (73, 1, 'M', 160, NULL, NULL, NULL, NULL, NULL),
    (109, 1, 'M', 110, 192, 280, NULL, NULL, NULL),
    (22, 1, 'F', 67, 149, 278, 435, NULL, NULL),
    (87, 1, 'F', 140, 266, 426, NULL, NULL, NULL),
    (81, 1, 'F', 263, 416, NULL, NULL, NULL, NULL),
    (50, 1, 'F', 451, NULL, NULL, NULL, NULL, NULL),
    (69, 1, 'F', 11, 32, 81, 175, NULL, NULL),
    (60, 1, 'F', 36, 89, 185, 321, NULL, NULL),
    (86, 1, 'F', 81, 176, 314, NULL, NULL, NULL),
    (80, 1, 'F', 158, 289, NULL, NULL, NULL, NULL),
    (49, 1, 'F', 298, NULL, NULL, NULL, NULL, NULL),
    (23, 1, 'F', 74, 188, 249, NULL, NULL, NULL),
    (110, 1, 'F', 249, NULL, NULL, NULL, NULL, NULL),
    (67, 1, 'F', 7, 20, 53, 118, NULL, NULL),
    (58, 1, 'F', 22, 56, 121, 218, NULL, NULL),
    (66, 1, 'F', 55, 121, 221, NULL, NULL, NULL),
    (79, 1, 'F', 106, 200, NULL, NULL, NULL, NULL),
    (48, 1, 'F', 201, NULL, NULL, NULL, NULL, NULL),
    (68, 1, 'F', 5, 16, NULL, NULL, NULL, NULL),
    (59, 1, 'F', 18, 44, NULL, NULL, NULL, NULL),
    (85, 1, 'F', 41, 88, NULL, NULL, NULL, NULL),
    (96, 1, 'F', 79, 145, NULL, NULL, NULL, NULL),
    (111, 1, 'F', 149, NULL, NULL, NULL, NULL, NULL),
    (37, 1, 'F', 101, 191, 328, 509, 686, 745),
    (38, 1, 'F', 114, 224, 391, 602, 788, 845),
    (62, 1, 'F', 157, 306, 512, NULL, NULL, NULL),
    (63, 1, 'F', 338, 536, NULL, NULL, NULL, NULL),
    (64, 1, 'F', 645, NULL, NULL, NULL, NULL, NULL),
    (36, 1, 'F', 99, 199, 337, NULL, NULL, NULL),
    (35, 1, 'F', 17, 47, 110, 214, NULL, NULL),
    (100, 1, 'F', 33, 82, 172, NULL, NULL, NULL), 
    (108, 1, 'F', 30, 70, NULL, NULL, NULL, NULL),
    (51, 1, 'F', 11, 31, 77, 161, NULL, NULL),
    (56, 1, 'F', 25, 64, 141, 254, NULL, NULL),
    (53, 1, 'F', 50, 114, 217, NULL, NULL, NULL),
    (54, 1, 'F', 102, 198, NULL, NULL, NULL, NULL),
    (55, 1, 'F', 205, NULL, NULL, NULL, NULL, NULL),
    (73, 1, 'F', 90, 160, NULL, NULL, NULL, NULL),
    (75, 1, 'F', 108, NULL, NULL, NULL, NULL, NULL);

    -- Compound classifications
INSERT INTO "classifications" ("round_id", "bow_type", "gender", "class_3rd", "class_2nd", "class_1st", 
    "class_bm", "class_mb", "class_gmb") VALUES
    (89, 2, 'M', 574, 865, 996, 1134, 1206, 1249),
    (109, 2, 'M', 780, 1010, 1105, NULL, NULL, NULL),
    (26, 2, 'M', 955, 1119, NULL, NULL, NULL, NULL),
    (27, 2, 'M', 1060, NULL, NULL, NULL, NULL, NULL),
    (82, 2, 'M', 487, 689, 777, 870, NULL, NULL),
    (22, 2, 'M', 629, 785, 849, NULL, NULL, NULL),
    (87, 2, 'M', 743, 856, NULL, NULL, NULL, NULL),
    (81, 2, 'M', 820, NULL, NULL, NULL, NULL, NULL),
    (69, 2, 'M', 356, 560, 652, 748, NULL, NULL),
    (60, 2, 'M', 508, 666, 731, NULL, NULL, NULL),
    (86, 2, 'M', 625, 739, NULL, NULL, NULL, NULL),
    (80, 2, 'M', 697, NULL, NULL, NULL, NULL, NULL),
    (23, 2, 'M', 619, 713, NULL, NULL, NULL, NULL),
    (67, 2, 'M', 249, 406, 478, 554, NULL, NULL),
    (58, 2, 'M', 361, 487, 539, NULL, NULL, NULL),
    (66, 2, 'M', 459, 549, NULL, NULL, NULL, NULL),
    (79, 2, 'M', 514, NULL, NULL, NULL, NULL, NULL),
    (68, 2, 'M', 178, 280, NULL, NULL, NULL, NULL),
    (59, 2, 'M', 254, 333, NULL, NULL, NULL, NULL),
    (85, 2, 'M', 312, 370, NULL, NULL, NULL, NULL),
    (96, 2, 'M', 348, NULL, NULL, NULL, NULL, NULL);